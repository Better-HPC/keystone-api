# This test fixture creates a singular research group on one cluster.
# It has a three allocation requests, each with a single allocation.
#
# Allocation Request 1: Active
# Allocation Request 2: Closing Today
# Allocation Request 3: Closed

# Clusters
- model: allocations.cluster
  pk: 1
  fields:
    name: cluster
    enabled: true

# Research Groups
- model: users.researchgroup
  pk: 1
  fields:
    name: Research Group
    pi: 1

# Users
- model: users.user
  pk: 1
  fields:
    username: pi_1
    first_name: foo
    last_name: bar
    email: pi_1@domain.com
    password: foobar123

# Allocation Requests
- model: allocations.allocationrequest
  pk: 1
  fields:
    status: AP
    group: 1
    submitted: "2024-01-01"
    active: "2024-01-01"
    expire: "2024-01-04"
- model: allocations.allocationrequest
  pk: 2
  fields:
    status: AP
    group: 1
    submitted: "2024-01-01"
    active: "2024-01-01"
    expire: "2024-01-03"
- model: allocations.allocationrequest
  pk: 3
  fields:
    status: AP
    group: 1
    submitted: "2024-01-01"
    active: "2024-01-01"
    expire: "2024-01-02"

# Allocations
- model: allocations.allocation
  pk: 1
  fields:
    request: 1
    cluster: 1
    requested: 10000
    awarded: 10000
- model: allocations.allocation
  pk: 2
  fields:
    request: 2
    cluster: 1
    requested: 10000
    awarded: 10000
- model: allocations.allocation
  pk: 3
  fields:
    request: 3
    cluster: 1
    requested: 10000
    awarded: 10000
    final: 10000
